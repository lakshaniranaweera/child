<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Christmas Miracle Form</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #f5faff;
    padding: 20px;
  }

  .form-container {
    max-width: 500px;
    margin: auto;
    background: white;
    padding: 25px;
    border-radius: 10px;
    border: 2px solid #cce0ff;
    box-shadow: 0 0 15px rgba(0,0,255,0.1);
  }

  /* === FORM TOP LOGO AND TITLE === */
  .top-logo {
    width: 100px;
    display: block;
    margin: 0 auto;
  }

  .top-title {
    text-align: center;
    font-size: 22px;
    margin-top: 10px;
    margin-bottom: 20px;
    font-weight: bold;
    color: #003c8f;
  }

  label {
    display: block;
    margin-top: 12px;
    font-weight: bold;
    color: #003c8f;
  }

  /* One size for all inputs */
  input, select {
    width: 100%;
    height: 45px;
    padding: 10px;
    border: 1px solid #80b3ff;
    border-radius: 6px;
    margin-top: 5px;
    font-size: 15px;
  }

  button {
    width: 100%;
    background: #007bff;
    padding: 12px;
    margin-top: 20px;
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }

  button:hover {
    background: #005fcc;
  }

  .section {
    display: none;
    margin-top: 15px;
    padding: 12px;
    border-left: 4px solid #007bff;
    background: #f0f6ff;
    border-radius: 6px;
  }

  .image-options img {
    width: 70px;
    margin: 5px;
    cursor: pointer;
    border: 3px solid transparent;
    border-radius: 8px;
    transition: 0.3s;
  }

  .image-options img.selected {
    border-color: #007bff;
    transform: scale(1.05);
  }

  /* Popup Background */
  .popup-bg {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.45);
    justify-content: center;
    align-items: center;
  }

  /* Popup Window */
  .popup-box {
    background: white;
    padding: 20px;
    width: 85%;
    max-width: 350px;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #007bff;
    box-shadow: 0 0 15px rgba(0,0,255,0.25);
    animation: popupAnimation 0.3s ease;
  }
.img-box {
  display: inline-block;
  text-align: center;
  margin: 5px;
}

.img-box label {
  display: block;
  margin-top: 5px;
  font-size: 14px;
  color: #003c8f;
  font-weight: bold;
}

  /* Logo */
  .popup-logo {
    width: 80px;
    margin-bottom: 10px;
  }

  /* Popup Title */
  .popup-title {
    font-size: 18px;
    font-weight: bold;
    color: #003c8f;
    margin-bottom: 10px;
  }

  @keyframes popupAnimation {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
</style>
</head>
<body>

<div class="form-container">

  <!-- TOP LOGO -->
  <img src="logo.png" class="top-logo">

  <!-- TOP TITLE -->
  <div class="top-title">CHRISTMAS MIRACLE WITH ASIRI</div>

<form id="myForm">

<label>Village Location</label>
<select name="village" id="village" required>
  <option value="">Select</option>
  <option value="Piliyandala">Piliyandala</option>
  <option value="Nuwara Eliya">Nuwara Eliya</option>
  <option value="Galle">Galle</option>
  <option value="Anuradhapura">Anuradhapura</option>
  <option value="Monaragala">Monaragala</option>
  <option value="Jaffna">Jaffna</option>
</select>

<label>House Number</label>
<input type="text" name="houseNumber" required>

<label>Child Identification</label>
<input type="text" name="childID" required>

<label>Age</label>
<input type="number" name="age" required>

<label>Gender</label>
<select id="gender" name="gender" required>
  <option value="">Select</option>
  <option value="male">Male</option>
  <option value="female">Female</option>
</select>

<!-- Male Section -->
<div id="maleSection" class="section">
  <h3>Male Question</h3>
  <p>Choose one option:</p>

  <div class="image-options" id="maleOptions">
    <div class="img-box">
      <img src="6.png" data-value="Option 1">
      <label>School Supplies</label>
    </div>

    <div class="img-box">
      <img src="5.jfif" data-value="Option 2">
      <label>Soft Toy </label>
    </div>

    <div class="img-box">
      <img src="2.jpg" data-value="Option 3">
      <label>Lunch Box & Bottle </label>
    </div>

    <div class="img-box">
      <img src="1.jpg" data-value="Option 4">
      <label>Toys </label>
    </div>

    <div class="img-box">
      <img src="4.jfif" data-value="Option 5">
      <label>Art Supplies</label>
    </div>
  </div>
</div>


<!-- Female Section -->
<div id="femaleSection" class="section">
  <h3>Female Question</h3>
  <p>Choose one option:</p>

  <div class="image-options" id="femaleOptions">
    <div class="img-box">
      <img src="6.png" data-value="Option A">
      <label>School Supplies</label>
    </div>

    <div class="img-box">
      <img src="5.jfif" data-value="Option B">
      <label>Soft Toy </label>
    </div>

    <div class="img-box">
      <img src="3.jpg" data-value="Option C">
      <label>Lunch Box & Bottle </label>
    </div>

    <div class="img-box">
      <img src="8.png" data-value="Option D">
      <label>Toys </label>
    </div>

    <div class="img-box">
      <img src="4.jfif" data-value="Option E">
      <label>Art Supplies</label>
    </div>
  </div>
</div>


<button type="submit">Submit</button>
</form>
</div>

<!-- Popup -->
<div class="popup-bg" id="popup">
  <div class="popup-box">

    <img src="logo.png" class="popup-logo">

    <div class="popup-title">CHRISTMAS MARACLE WITH ASIRI</div>

    <h4 id="popupText" style="margin-bottom:15px;">Saved Successfully!</h4>

    <button onclick="closePopup()">OK</button>
  </div>
</div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbzNuZtfqukXFrd4pMJfH_qIHrr7wX52efmT8LryDGGHTE5fRghRiahSwfDiohnmMAn0Xw/exec";

let selectedOption = "";

// Show relevant gender sections
document.getElementById("gender").addEventListener("change", function () {
  let gender = this.value;

  document.getElementById("maleSection").style.display = gender === "male" ? "block" : "none";
  document.getElementById("femaleSection").style.display = gender === "female" ? "block" : "none";

  selectedOption = "";
});

// Image selection
document.querySelectorAll(".image-options img").forEach(img => {
  img.addEventListener("click", function () {

    document.querySelectorAll(".image-options img").forEach(i => i.classList.remove("selected"));

    this.classList.add("selected");

    selectedOption = this.getAttribute("data-value");
  });
});

// Form submit
document.getElementById("myForm").addEventListener("submit", function (e) {
  e.preventDefault();

  if (selectedOption === "") {
    showPopup("Please select an image option!");
    return;
  }

  let formData = {
    village: document.getElementById("village").value,
    houseNumber: this.houseNumber.value,
    childID: this.childID.value,
    age: this.age.value,
    gender: document.getElementById("gender").value,
    selectedOption: selectedOption
  };

  fetch(scriptURL, {
    method: "POST",
    body: JSON.stringify(formData)
  })
  .then(res => res.json())
  .then(data => {
    showPopup("✔ Data saved successfully!");
    this.reset();
    selectedOption = "";
  })
  .catch(err => {
    showPopup("❌ Error submitting form!");
  });
});

function showPopup(message) {
  document.getElementById("popupText").innerText = message;
  document.getElementById("popup").style.display = "flex";
}

function closePopup() {
  document.getElementById("popup").style.display = "none";
}
</script>

</body>
</html>


